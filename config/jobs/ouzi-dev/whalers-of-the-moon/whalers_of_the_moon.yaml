presubmits:
  ouzi-dev/whalers-of-the-moon:
    - name: build-kube-dind-image
      labels:
        preset-docker: "true"
      context: build-kube-dind-image
      decorate: true 
      always_run: false 
      skip_report: false 
      max_concurrency: 1 
      trigger: "(?m)build-kube-dind-image( please)?" 
      rerun_command: "build-kube-dind-image"
      run_if_changed: 'kube-dind/'
      spec: 
        containers:
          - name: "build-kube-dind-image"
            imagePullPolicy: IfNotPresent
            image: quay.io/ouzi/kube-dind:18.09
            command:
              - runner.sh
            args:
              - make
              - kube-dind-push
            securityContext:
              privileged: true
            resources:
              requests:
                memory: "2Gi"
    - name: build-dind-image
      labels:
        preset-docker: "true"
      context: build-dind-image
      decorate: true 
      always_run: false 
      skip_report: false 
      max_concurrency: 1 
      trigger: "(?m)build-dind-image( please)?" 
      rerun_command: "build-dind-image"
      run_if_changed: 'dind/'
      spec: 
        containers:
          - name: "build-dind-image"
            imagePullPolicy: IfNotPresent
            image: quay.io/ouzi/kube-dind:18.09
            command:
              - runner.sh
            args:
              - make
              - dind-push
            securityContext:
              privileged: true
            resources:
              requests:
                memory: "2Gi"
    - name: build-go-builder-image
      labels:
        preset-docker: "true"
      context: build-go-builder-image
      decorate: true 
      always_run: false 
      skip_report: false 
      max_concurrency: 1 
      trigger: "(?m)build-go-builder-image( please)?" 
      rerun_command: "build-go-builder-image"
      run_if_changed: 'go-builder/'
      spec: 
        containers:
          - name: "build-go-builder-image"
            imagePullPolicy: IfNotPresent
            image: quay.io/ouzi/kube-dind:18.09
            command:
              - runner.sh
            args:
              - make
              - go-builder-push
            securityContext:
              privileged: true
            resources:
              requests:
                memory: "2Gi"
    - name: build-helm-image
      labels:
        preset-docker: "true"
      context: build-helm-image
      decorate: true 
      always_run: false 
      skip_report: false 
      max_concurrency: 1 
      trigger: "(?m)build-helm-image( please)?" 
      rerun_command: "build-helm-image"
      run_if_changed: 'helm/'
      spec: 
        containers:
          - name: "build-helm-image"
            imagePullPolicy: IfNotPresent
            image: quay.io/ouzi/kube-dind:18.09
            command:
              - runner.sh
            args:
              - make
              - helm-push
            securityContext:
              privileged: true
            resources:
              requests:
                memory: "2Gi"
    - name: build-toolbox-image
      labels:
        preset-docker: "true"
      context: build-toolbox-image
      decorate: true 
      always_run: false 
      skip_report: false 
      max_concurrency: 1 
      trigger: "(?m)build-toolbox-image( please)?" 
      rerun_command: "build-toolbox-image"
      run_if_changed: 'toolbox/'
      spec: 
        containers:
          - name: "build-toolbox-image"
            imagePullPolicy: IfNotPresent
            image: quay.io/ouzi/kube-dind:18.09
            command:
              - runner.sh
            args:
              - make
              - toolbox-push
            securityContext:
              privileged: true
            resources:
              requests:
                memory: "2Gi"